<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Document</title>

	<script src="../libs/gsap/gsap.min.js" defer></script>
	<script src="../libs/gsap/ScrollTrigger.min.js" defer></script>
	<script src="../libs/gsap/ScrollSmoother.min.js" defer></script>

	<link rel="stylesheet" href="../css/infra.css">
	<script src="../js/infra.js" defer></script>

</head>
<body>

	<div class="wrapper">
		<div class="content">

			<header class="hero-section">
				<img data-speed=".6" class="hero" src="../assets/images/infra/infraback2.jpg" alt="Alt" >
				<div class="container">
					<div data-speed=".75" class="main-header">
						<h1 class="main-title">Infrastructure</h1>
					</div>

				</div>
			</header>
		
			<div class="portfolio">
				<div class="container">
					<main class="gallery">
	<!-- Левый столбец -->
						<div data-speed=".9" class="gallery__left">
				
							<img width=1400 class="gallery__item" src="../assets/images/infra/datasetsgitlab.png" alt="Alt">
							
							<div class="text-block gallery__item">
								<h2 class="text-block__h">Особенности</h2>
								<p class="text-block__p"><b>Временные особенности</b>.</p>
								<br>
								<p class="text-block__p">В работе учитывались особенности действия документов (сущностей) в рамках календарной работы и действия тех или иных документов. Все даты заменены на формат, применяемый в базе, а многие сроки действия документов переработы с учетом особенностей системы командами <b>CURRENT_TIMESTAMP</b></p>
								<br>
								<p class="text-block__p"><b>JSON - объекты</b></p>
								<br>
								<p class="text-block__p">Некоторые объекты в базе храняться как json объекты и работа с sql языком внутри них (установление текущей даты и времени) представляет некоторые особенности. В частности, с помощью команды <b>jsonb_build_object</b> и формирование массивов <b>jsonb_build_array</b> были сформированы и переработы некоторые сет на добавление специальных сущностей. </p>
							</div>

							<div class="text-block gallery__item">
								<h2 class="text-block__h">Kubernetes - k8s</h2>
								<p class="text-block__p">Контроллеры</p>
								<br>
								<p class="text-block__p"><b>Deployments</b> - контроллер, который управляет состоянием развертывания подов, которое описывается в манифесте, следит за удалением и созданием экземпляров подов. Управляет контроллерами ReplicaSet.</p>
								<br>
								<p class="text-block__p"><b>ReplicaSet</b> - гарантирует, что определенное количество экземпляров подов всегда будет запущено в кластере.</p>
								<br>
								<p class="text-block__p"><b>StatefulSets</b> - так же как и Deployments, управляет развертыванием и масштабированием набора подов, но сохраняет набор идентификаторов и состояние для каждого пода.</p>
								<br>
								<p class="text-block__p"><b>DaemonSet</b> - гарантирует, что на каждом узле кластера будет присутствовать экземпляр пода.</p>
								<br>
								<p class="text-block__p"><b>Jobs</b> - создает определенное количество подов и смотрит, пока они успешно не завершат работу. Если под завершился с ошибкой, повторяет создание, которое мы описали определенное количество раз. Если под успешно отработал, записывает это в свой журнал.</p>
								<br>
								<p class="text-block__p"><b>CronJob</b> - запускает контроллеры Jobs по определенному расписанию.</p>
								<br>
							</div>

							<img class="gallery__item" src="../assets/images/infra/k8sstructure.png" alt="k8s structure">
									
							<div class="text-block gallery__item">
								<h2 class="text-block__h">Применение в работе</h2>
								<p class="text-block__p">В дефолтном виде, в структуре проекта выделяются папки для хранения бинарников наших сервисов (описывается в разделе <b>build</b>), и требует наличие <b>Dockerfile</b> для описания работы контейнера. Можно использовать готовые образы для развертывания окружений, что мы и делаем на проектах.</p>
								<br>
								<p class="text-block__p">В разделе <b>image</b> указываем пути к нащим образам в докер хабах (registry) откуда будем браз образы для docker. Переменные, необходимые для работы сервисов вынесены в отедльные файлы <b>.env</b>. Объеденены в отдельную "сеть" и прописаны порты внутреннее/внешние.</p>
							</div>

							<div class="text-block gallery__item">
								<h2 class="text-block__h">Жонглирование контейнерами</h2>
								<p class="text-block__p">Отдельные контейнеры это хорошо, но зачастую, в жизни, никогда не бывает так просто. На помощь приходит инструмент <b>docker-compose</b></p>
								<br>
								<p class="text-block__p">Docker Compose — это инструментальное средство, входящее в состав Docker. Оно предназначено для решения задач, связанных с развёртыванием проектов. Облегчает переезд проекта на новое железо, или его масштабирование.</p>
								<img class="gallery__item" src="../assets/images/infra/dockercomposeschema.png" alt="dockercomposeshema">

							</div>

							<img class="gallery__item" src="../assets/images/infra/reddisUi.png" alt="Alt">

						</div>
<!-- Правый столбец -->
						<div data-speed="1.1" class="gallery__right">
		
							<div class="text-block gallery__item">
								<h2 class="text-block__h">Datasets</h2>
								<p class="text-block__p">Зачастую, сложные системы не существуют без специальной функциональной обвязкой, для проекта <b>Trade</b> это большой объем разного рода абстракций, входящих в друг друга или имея сложные связи-зависимости.</p>
								<br>
								<p class="text-block__p">Для ускорения процесса разработки были прописаны датасеты, в виде SQL команды. Репозиторий с данными был загружен для удобства пользования командой.</p>
							</div>

							<img class="gallery__item" src="../assets/images/infra/datasetsmainsql.png"Alt">

							<img class="gallery__item" src="../assets/images/infra/datasetsjson.png"Alt">

							<img class="gallery__item" src="../assets/images/infra/manifest.png" alt="manifest">

							<div class="text-block gallery__item">
								<div class="text-block__h">Немного о структуре</div>
							</div>

							<img class="gallery__item" src="../assets/images/infra/dockerfile.png" alt="docker file">

							<img class="gallery__item" src="../assets/images/infra/dockercompose.png" alt="dockercompose">


							<div class="text-block gallery__item">
								<h2 class="text-block__h">Кэширование с Redis</h2>
								<p class="text-block__p">Redis — мощное хранилище данных в памяти, широко используется для кэширования данных. В сочетании с Go, статически типизированным, компилируемым языком программирования, разработанным для простоты и эффективности, Redis может значительно улучшить производительность и масштабируемость приложений</p>
								<br>
								<p class="text-block__p">Для удобства работы можно использовать разные клиенты, например, P3X Redis UI</p>
							</div>

						</div>

					</main>
				</div>
			</div>

		</div>
	</div>

</body>
</html>